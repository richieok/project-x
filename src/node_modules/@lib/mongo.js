const { MongoClient } = require('mongodb');

const uri = "mongodb+srv://qubitUser:ct2Iilr5ddAVgo2H@cluster0-z8ae8.mongodb.net/test?retryWrites=true&w=majority";
let db = null;
let cursor = null;

export async function init() {
    if (!cursor) {
        const client = new MongoClient(uri, { useUnifiedTopology: true });
        try {
            await client.connect();
            db = await client.db("test");
            return { cursor, db };
        }
        catch (e) {
            console.log(e);
        }
    } else {
        return { cursor, db};
    }

}